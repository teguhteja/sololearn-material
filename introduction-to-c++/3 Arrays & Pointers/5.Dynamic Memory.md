# 5. Dynamic Memory

## Dynamic Memory
Now that we know about pointers, let's learn how to create **dynamic arrays** (arrays that have a variable size). These are handy when we need to allocate new memory based on user input.

For example, let's say we have a size variable that takes a value dynamically, based on user input. For simplicity in our example, we will just assign it a value:

```cpp
int size = 8;
```

Now, we want to create an array of that size dynamically.

---

## Allocating Dynamic Memory
The `new` operator is used to allocate memory. It can then be assigned to a pointer.

For example:

```cpp
int size = 8;
int *p = new int[size];
```

Now, `p` holds the address of our newly allocated memory, which can be used to store 8 items, because `size = 8`.

---

## Using Dynamic Memory
We can use our pointer to assign values and access them:

```cpp
#include <iostream>
using namespace std;

int main() {
    int size = 8;
    int *p = new int[size];

    p[0] = 128;
    p[1] = 888;
    p[2] = 9;

    cout << *(p + 1);
}
```

### Exercise:
Drag & drop to create valid code that allocates memory for 10 `double` elements and stores it in a pointer called `arr`:

```cpp
double *arr = new double[10];
```

---

## Using Loops with Dynamic Memory
We can also use the size variable in a `for` loop as the condition. Let's assign numbers from 0 to `size-1` to the array elements, then output them:

```cpp
#include <iostream>
using namespace std;

int main() {
    int size = 8;
    int *p = new int[size];

    for (int i = 0; i < size; i++) {
        p[i] = i;
    }

    for (int i = 0; i < size; i++) {
        cout << p[i] << endl;
    }
}
```

You can change the value of `size` and see how the same code works for any given value.

---

## Freeing Dynamic Memory
In most cases, memory allocated dynamically is only needed during specific periods of time within a program. Once it is no longer needed, it can be freed so that the memory becomes available again for other requests of dynamic memory.

This is the purpose of the `delete` operator:

```cpp
delete[] p;
```

This frees up the memory taken by the array `p`.

### Exercise:
Fill in the blanks to allocate memory for an array of strings of the size `count`, then remove it from memory:

```cpp
string *arr = new string[count];
delete[] arr;
```

---

## Lesson Takeaways
Dynamic memory allocation is useful in many situations, such as when your program depends on input. For example, when your program needs to read an image file, it doesn't know in advance the size of the file and the memory necessary to store the image.

### Key Points:
- Memory is allocated using the `new` keyword: `int* p = new int[size];`.
- After the allocated memory is no longer needed, we can free it up using `delete`: `delete[] p;`.
