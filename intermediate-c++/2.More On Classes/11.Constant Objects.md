# 11. Constant Objects

## Constants
A constant is an expression with a fixed value. It cannot be changed while the program is running.

Use the `const` keyword to define a constant variable:

```cpp
const int x = 42;
```

All constant variables must be initialized at the time of their creation.

**Type in the missing keyword to declare a constant variable named `var` of type `double`:**

```cpp
const double var = 3.4;
```

## Constant Objects
As with built-in data types, you can make class objects constant by using the `const` keyword:

```cpp
const MyClass obj;
```

All `const` variables must be initialized when they're created. For classes, this initialization is done via constructors. If a class is not initialized using a parameterized constructor, a public default constructor must be provided; otherwise, a compiler error will occur.

Once a `const` class object has been initialized via the constructor, you cannot modify the object's member variables. This includes both directly changing public member variables and calling member functions that set the value of member variables.

When you declare an object as `const`, you cannot change its data members during the object's lifetime.

## Example: Constant Member Functions

Only non-const objects can call non-const functions. A constant object can't call regular functions. Hence, for a constant object to work, you need a constant function.

To specify a function as a `const` member, the `const` keyword must follow the function prototype, outside of its parameters' closing parenthesis. For `const` member functions defined outside of the class definition, the `const` keyword must be used on both the function prototype and definition. For example:

**MyClass.h**

```cpp
class MyClass
{
public:
    void myPrint() const;
};
```

**MyClass.cpp**

```cpp
#include "MyClass.h"
#include <iostream>
using namespace std;

void MyClass::myPrint() const {
    cout <<"Hello"<<endl;
}
```

Now, the `myPrint()` function is a constant member function. As such, it can be called by a constant object:

**main.cpp**

```cpp
#include <iostream>
using namespace std;

class MyClass
{
public:
    void myPrint() const;
};

void MyClass::myPrint() const {
    cout <<"Hello"<<endl;
}

int main() {
    const MyClass obj;
    obj.myPrint();
}
```

To ensure that the `square()` method works correctly for a `const` object, you need to declare the `square()` method as a `const` method. This ensures that the method does not modify any member variables of the class.

Here's the completed code:

```cpp
#include <iostream>
using namespace std;

class Number
{
private:
    int num;
public:
    Number(int n) : num(n) { } // Constructor with initializer list

    // Complete the method
    int square() const {
        return num * num; // Returns the square of num
    }
};

int main() {
    int x;
    cin >> x;
    const Number myNum(x);
    cout << myNum.square(); // Calls the square() method on a const object
}
```

### Explanation:

- **Const Method:** The `square()` method is declared as `const` to indicate that it does not modify any member variables of the `Number` class. This is necessary because `myNum` is a `const` object, and only `const` methods can be called on `const` objects.
- **Initializer List:** The constructor is updated to use an initializer list for setting the value of `num`, which is a more efficient way to initialize member variables.
- **Square Calculation:** The `square()` method calculates and returns the square of `num`.

With these modifications, the code will execute successfully, and `myNum.square()` will return the square of the number input by the user.

**Type in the missing keywords to declare a constant `printAge()` member function for the `Student` class:**

```cpp
class Student {
public:
    void printAge() const;
};
```

## Constant Member Functions

Attempting to call a regular function from a constant object results in an error.

In addition, a compiler error is generated when any `const` member function attempts to change a member variable or to call a non-const member function.

Defining constant objects and functions ensures that corresponding data members cannot be unexpectedly modified.

**Constant member functions...**

- ...cannot ever be called
- ...cannot modify any non-const members
- ...can modify non-const data members
