# 14. Composition, Part 2

## Composition

In this lesson, we continue exploring the concept of **composition**, which refers to the "has-a" relationship between objects in object-oriented programming. In our example, a `Person` **has a** `Birthday`, demonstrating how classes can work together to model complex behaviors.

Here's how the **Person** class is designed:

```cpp
class Person {
 public:
  Person(string n, Birthday b)
  : name(n), bd(b)  // Constructor initializes the name and Birthday object
  {  
  }
 private:
  string name;
  Birthday bd;
};
```

### Filling in Blanks for Constructor Initialization

In composition, we initialize class members via constructors. For the `People` class, here's how we fill in the constructor to initialize `name` and `dateOfBirth`:

```cpp
People::People(string x, Birthday bo)
: name(x), dateOfBirth(bo)  // Initialize name and dateOfBirth members
{
}
```

### Defining the `printInfo()` Function

Now, let's define the `printInfo()` function, which prints the `People`'s name and birthdate by using the `printDate()` function from the `Birthday` class:

```cpp
void People::printInfo() {
    cout << name << endl;      // Print the name
    dateOfBirth.printDate();   // Call the printDate() function from Birthday class
}
```

### Composition Example

Now that we've defined our `Birthday` and `Person` classes, let's see them in action in the `main()` function. We create a `Birthday` object, pass it to a `Person` object, and then print the details.

```cpp
#include <iostream>
using namespace std;

class Birthday {
    public:
        Birthday(int m, int d, int y)
        : month(m), day(d), year(y)
        {  
        }
        void printDate() {
            cout << month << "/" << day << "/" << year << endl;
        }
    private:
        int month;
        int day;
        int year;
};

class Person {
    public:
        Person(string n, Birthday b)
        : name(n), bd(b)
        {  
        }
        void printInfo() {
            cout << name << endl;
            bd.printDate();  // Call Birthday's printDate() method
        }
    private:
        string name;
        Birthday bd;
};

int main() {
    Birthday bd(2, 21, 1985);  // Create a Birthday object
    Person p("David", bd);     // Create a Person object and pass the Birthday object
    p.printInfo();             // Print the Person's details including the Birthday
}
```

### Output:

The program will output the person's name followed by their birthday:

```
David
2/21/1985
```

### Composition: Why It's Important

Composition allows us to break down complex objects into smaller, more manageable pieces. For example, a **Person** has a **Birthday**, but the `Birthday` class is reusable. We can use it in other classes as well, ensuring code modularity and reusability. 

By keeping each class focused on a single responsibility, **composition** makes your code more maintainable and easier to understand.

---

### Continuing with Composition: Car and Engine Example

To reinforce the concept of composition, let's take another example with **Car** and **Engine** classes. A **Car** has an **Engine**, and we need to make sure the car can start by calling the engine's start method.

```cpp
#include <iostream>
using namespace std;

class Engine {
    public:
        Engine(int p): power(p) {};  // Initialize the engine power
        void start() {
            cout << "Engine ON (" << power << " horsepower)" << endl;
        }
    private:
        int power;
};

class Car {
    public:
        Car(Engine x, string c, int y): e(x), color(c), year(y) {};  // Initialize Car members
        void start() {
            cout << "Starting the car" << endl;
            e.start();  // Call the Engine's start method
            cout << "Car color: " << color << ", Year: " << year << endl;
        }
    private:
        Engine e;  // Car has an Engine
        string color;
        int year;
};

int main() {
    int power;
    string color;
    int year;
    
    cin >> power >> color >> year;  // Input power, color, and year
    
    Engine e(power);  // Create the Engine object
    Car car(e, color, year);  // Create the Car object using Engine, color, and year
    
    car.start();  // Start the Car
    
    return 0;
}
```

### Example Input and Output:

**Input:**

```
150 red 2020
```

**Output:**

```
Starting the car
Engine ON (150 horsepower)
Car color: red, Year: 2020
```

### Key Takeaways:

- **Composition** is a powerful concept in object-oriented programming, allowing classes to work together through a "has-a" relationship.
- By using composition, we can break down complex systems into simpler parts, making the code modular, reusable, and easier to maintain.

Stay tuned for more lessons on composition in the next section!