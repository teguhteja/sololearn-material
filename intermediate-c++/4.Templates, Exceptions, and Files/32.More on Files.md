# 32. More on Files

## Working with Files
You can also provide the path to your file using the `ofstream` object's constructor, instead of calling the `open` function.

```cpp
#include <fstream>
using namespace std;

int main() {
    ofstream MyFile("test.txt");

    MyFile << "This is awesome! \n";
    MyFile.close();
}
```

As with the `open` function, you can provide a full path to your file located in a different directory.

### Task: Rearrange the Code
Rearrange the code to declare a file object with `"myfile.txt"` associated with it. Insert `"I can work with files"` to the file, then close the file.

```cpp
#include <fstream>
using namespace std;

int main() {
    ofstream MyFile("myfile.txt");

    MyFile << "I can work with files. \n";
    MyFile.close();
}
```

## Checking if a File is Open
Under certain circumstances, such as when you don't have file permissions, the `open` function can fail. 

The `is_open()` member function checks whether the file is open and ready to be accessed.

```cpp
#include <iostream>
#include <fstream>
using namespace std;

int main() {
    ofstream MyFile("test.txt");

    if (MyFile.is_open()) {
        MyFile << "This is awesome! \n";
    } else {
        cout << "Something went wrong";
    }
    MyFile.close();
}
```

The `is_open()` member function checks whether the file is open and ready to be accessed.

### Task: Type the function name which checks whether the file is open or not.

```
is_open()
```

## File Opening Modes
An optional second parameter of the `open` function defines the mode in which the file is opened. This list shows the supported modes:

- `ios::in`: Open for reading.
- `ios::out`: Open for writing.
- `ios::app`: Append to the end of the file.
- `ios::trunc`: Truncate the file if it exists.
- `ios::binary`: Open in binary mode.

All these flags can be combined using the bitwise operator OR (`|`).

For example, to open a file in write mode and truncate it, if it already exists, use the following syntax:

```cpp
ofstream outfile;
outfile.open("file.dat", ios::out | ios::trunc);
```

## Reading from a File
You can read information from a file using an `ifstream` or `fstream` object.

```cpp
#include <iostream>
#include <fstream>
using namespace std;

int main() {
    ofstream MyFile1("test.txt");
    
    MyFile1 << "This is awesome! \n";
    MyFile1.close();

    string line;
    ifstream MyFile("test.txt");
    while (getline(MyFile, line)) {
        cout << line << '\n';
    }
    MyFile.close();
}
```

The `getline` function reads characters from an input stream and places them into a string.

The example above reads a text file and prints the contents to the screen. Our `while` loop uses the `getline` function to read the file line by line.

### Task: Rearrange the Code
Rearrange the code to declare a file object and an associated file `"myfile.txt"`. Write `"I can work with files"` to the file if the file is open. Otherwise, print `"Something went wrong"` to the screen.

```cpp
#include <iostream>
#include <fstream>
using namespace std;

int main() {
    ofstream MyFile("myfile.txt");

    if (MyFile.is_open()) {
        MyFile << "I can work with files. \n";
    } else {
        cout << "Something went wrong";
    }
    MyFile.close();
}
```
