# 1. Structures

## Structures Overview
A structure is a user-defined data type that groups related variables of different data types.

A structure declaration includes the keyword `struct`, a structure tag for referencing the structure, and curly braces `{ }` with a list of variable declarations called members.

For example:

```c
struct course {
  int id;
  char title[40];
  float hours;
};
```

This `struct` statement defines a new data type named `course` that has three members.

Structure members can be of any data type, including basic types, strings, arrays, pointers, and even other structures, as you will learn in a later lesson.

> **Note:** Do not forget to put a semicolon after the structure declaration.

A structure is also called a composite or aggregate data type. Some languages refer to structures as records.

### Example: Declaring a Struct

Fill in the blanks to declare a `struct`:

```c
struct human {
  int age;
  char name[40];
};
```

## Declarations Using Structures
To declare variables of a structure data type, you use the keyword `struct` followed by the struct tag, and then the variable name.

For example, the statements below declare a structure data type and then use the `student` struct to declare variables `s1` and `s2`:

```c
#include <stdio.h>

struct student {
    int age;
    int grade;
    char name[40];
};

int main() {
    /* declare two variables */
    struct student s1;
    struct student s2;
    
    s1.age = 19;
    s1.grade = 9;
    sprintf(s1.name, "John Bighimer");
    
    s2.age = 22;
    s2.grade = 10;
    sprintf(s2.name, "Batman Jokerson");
    
    printf("Student: %s, %d\n", s1.name, s1.age);
    printf("Student: %s, %d\n", s2.name, s2.age);
    
    return 0;
}
```

A `struct` variable is stored in a contiguous block of memory. The `sizeof` operator must be used to get the number of bytes needed for a `struct`, just as with the basic data types.

### Example: Declaring a Struct Variable

```c
struct human {
  int age;
  char name[40];
};
human h1;
```

## Initializing Structures

A `struct` variable can also be initialized in the declaration by listing initial values in order inside curly braces:

```c
#include <stdio.h>

struct student {
    int age;
    int grade;
    char name[40];
};

int main() {
    /* declare and initialize two variables */
    struct student s1 = {19, 9, "John Birghimer"};
    struct student s2 = {22, 10, "Batman Jokerson"};
    
    printf("Student: %s, %d\n", s1.name, s1.age);
    printf("Student: %s, %d\n", s2.name, s2.age);
    
    return 0;
}
```

If you want to initialize a structure using curly braces after declaration, you will also need to type cast, as shown below:

```c
#include <stdio.h>

struct student {
    int age;
    int grade;
    char name[40];
};

int main() {
    struct student s1; // declaring
    
    // type cast needed
    s1 = (struct student){19, 9, "John Birghimer"};
    
    printf("Student: %s, %d\n", s1.name, s1.age);
    
    return 0;
}
```

### Named Member Initialization

You can use named member initialization when initializing a structure to specify corresponding members:

```c
#include <stdio.h>

struct student {
    int age;
    int grade;
    char name[40];
};

int main() {
    struct student s1 = { .grade = 9, .age = 19, .name = "John Birghimer"};
    
    printf("Name: %s, Age: %d, Grade: %d\n", s1.name, s1.age, s1.grade);
    
    return 0;
}
```

In the example above, `.grade` refers to the `grade` member of the structure. Similarly, `.age` and `.name` refer to the `age` and `name` members.

### Example: Initializing a Struct Variable with Type Cast

Fill in the blanks to initialize the `struct` variable using a type cast.

```c
struct human h1;
h1 = (struct human) {19, "John"};
```

## Accessing Structure Members
You access the members of a `struct` variable by using the `.` (dot operator) between the variable name and the member name.

For example, to assign a value to the `age` member of the `s1` struct variable, use a statement like:

```c
s1.age = 19;
```

### Assigning Structures

You can also assign one structure to another of the same type:

```c
#include <stdio.h>

struct student {
    int age;
    int grade;
    char name[40];
};

int main() {
    struct student s1 = {19, 9, "Jason"};
    struct student s2;
    
    printf("Assigning, s2 = s1\n");
    s2 = s1;
    
    printf("Results, Name: %s, Age: %d, Grade: %d\n", s2.name, s2.age, s2.grade);
    
    return 0;
}
```

### Example: Using Structures

The following code demonstrates using a structure:

```c
#include <stdio.h>
#include <string.h>

struct course {
  int id;
  char title[40];
  float hours; 
};

int main() {
  struct course cs1 = {341279, "Intro to C++", 12.5};
  struct course cs2;

  /* initialize cs2 */
  cs2.id = 341281;
  strcpy(cs2.title, "Advanced C++");
  cs2.hours = 14.25;
   
  /* display course info */
  printf("%d\t%s\t%4.2f\n", cs1.id, cs1.title, cs1.hours);
  printf("%d\t%s\t%4.2f\n", cs2.id, cs2.title, cs2.hours);
  
  return 0;
}
```

String assignment requires `strcpy()` from the `string.h` library.

Also note the format specifiers `%4.2f` include width and precision options.

### Example: Increasing the Age by 2

Fill in the blanks to increase the age of the `h1` variable by 2.

```c
struct human {
  int age;
  char name[40];
};
human h1 = {19, "John"}; 
h1.age += 2;
```

## Using `typedef`
The `typedef` keyword creates a type definition that simplifies code and makes a program easier to read.

`typedef` is commonly used with structures because it eliminates the need to use the keyword `struct` when declaring variables.

For example:

```c
#include <stdio.h>
#include <string.h>

typedef struct {
    int id;
    char title[40];
    float hours; 
} course;

int main() {
    course cs1;
    course cs2;

    cs1.id = 123456;
    strcpy(cs1.title, "JavaScript Basics");
    cs1.hours = 12.30;

    /* initialize cs2 */
    cs2.id = 341281;
    strcpy(cs2.title, "Advanced C++");
    cs2.hours = 14.25;
       
    /* display course info */
    printf("%d\t%s\t%4.2f\n", cs1.id, cs1.title, cs1.hours);
    printf("%d\t%s\t%4.2f\n", cs2.id, cs2.title, cs2.hours);
  
    return 0;
}
```

Note that a structure tag is no longer used, instead a `typedef` name appears before the `struct` declaration.

Now the word `struct` is no longer required in variable declarations, making the code cleaner and easier to read.

### Example: Declaring a `human` Struct Using `typedef`

Fill in the blanks to declare a `human` struct using the `typedef` keyword.

```c
typedef struct {
  int age;
  char name[40];
} human;
```
